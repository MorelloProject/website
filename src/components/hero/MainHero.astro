---
import Cards from "./HeroCards.astro";

interface Props {
  description?: string;
  background_image?: {
    src: string;
    width: number;
    height: number;
    format: "png" | "jpg" | "jpeg" | "tiff" | "webp" | "gif" | "svg" | "avif";
  };
  title?: string;
  style?: any;
  card_section?: any;
  first_section?: any;
  second_section?: any;
  buttons?: any;
  dark_title?: string;
}

const {
  title,
  dark_title,
  description,
  background_image,
  style,
  card_section,
  buttons,
} = Astro.props!;
---

<div class="h-full">
  <div
    class:list={[
      card_section ? "hero-background-home" : "hero-background",
      "flex flex-col items-center  w-full h-[350px] py-4 ",
    ]}
  >
    <div class="container pt-10">
      {
        background_image && title ? (
          <h1 class="container text-5xl p-10 mt-10 text-center font-light bg-white  text-dark border rounded ">
            {title}
          </h1>
        ) : background_image && dark_title ? (
          <h1 class="container text-5xl p-2 mt-10  font-light text-left text-dark  ">
            {dark_title}
          </h1>
        ) : (
          <h1 class="container text-5xl  mt-10 text-left font-light   text-white ">
            {title}
          </h1>
        )
      }

      {description && <p>{description}</p>}

      {
        buttons && (
          <a
            href={buttons.url}
            class:list={[
              buttons.style,
              "text-white bg-[#273548] p-2 rounded cursor-pointer ",
            ]}
          >
            {buttons.title}
          </a>
        )
      }
    </div>

    {card_section && <Cards card_section={card_section} />}
  </div>
</div>

<style
  define:vars={{
    backgroundUrl: background_image
      ? `url(${background_image.src})`
      : "#212529",
  }}
>
  .hero-background {
    background-image: linear-gradient(
        to bottom,
        rgba(75, 85, 99, 0.62),
        rgba(255, 255, 255, 1)
      ),
      var(--backgroundUrl);
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    height: max-content;
    position: relative;
    z-index: 1;
  }

  .hero-background::before {
    content: "";
    position: absolute;
    z-index: -1;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: rgba(0, 0, 0, 79%);
    color: dark;

    height: 350px;
  }
  .hero-background-home {
    background-image: linear-gradient(
        to bottom,
        rgba(75, 85, 99, 0.62),
        rgba(255, 255, 255, 1)
      ),
      var(--backgroundUrl);
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    height: max-content;
  }

  .hero-background-home::before {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: black;
    color: dark;
    z-index: -1;
    height: 350px;
  }
</style>
